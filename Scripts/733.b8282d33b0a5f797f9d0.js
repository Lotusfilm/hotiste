document&&document.currentScript&&document.currentScript.src,(self.webpackJsonpruntime=self.webpackJsonpruntime||[]).push([[733],{7733:(n,e,t)=>{t.r(e),t.d(e,{cohortId:()=>J,sendPerformanceMetrics:()=>H});var r=t(5861),i=t(3631),o=t(1669),l=t.n(o),s=t(2039),a=t.n(s),u=t(7183),c=t.n(u),p=t(5967),d=t.n(p),h=t(5528),m=t(3422),f=t.n(m),v=t(7108),g=t.n(v);const w=1e-6,y=n=>g()(n)?"unknown":n;function C({device:n=null,connectionType:e=null,connectionSpeed:t=null,viewportWidth:r=null,viewportHeight:i=null,hasCriticalCss:o=null,hasCustomWidgets:l=null,browserName:s=null,browserVersion:a=null,os:u=null,firstVisit:c=null,pageUuid:p=null,serviceWorkerRunning:d=null,siteAlias:h=null,host:m=null,path:f=null,vital:{name:v=null,delta:g=null}}){return{device:n,connectionType:y(e),connectionSpeed:y(t),viewportWidth:r,viewportHeight:i,hasCriticalCss:o,hasCustomWidgets:l,browserName:s,browserVersion:a,os:u,firstVisit:c,pageUuid:p,serviceWorkerRunning:d,siteAlias:h,host:y(m),path:f,[null==v?void 0:v.toLowerCase()]:g||w}}function P({cohortId:n,vital:e}){return Object.assign({type:"WEBVITAL",vital:"INP",cohort:n,target:f()("attribution.eventTarget",e)},e||{})}var b,S,W=t(9440),I=t.n(W),N=t(2461),T=t(602);const k=c()(null),A=n=>k(n,window),V=n=>!!document.querySelector(n),U=function({apiUrl:n=(0,T.m)("runtimecollector.url")}={}){return function(){var e=(0,r.Z)((function*(e){if(!n)throw new Error("Missing endpoint for runtimecollector");return yield fetch(`${n}/performance/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).catch((n=>{N.Gl.warn({message:"Error while trying to report Vitals to BI",_skipJournal:!0,error:d()(n)?n.toString():JSON.stringify(n),siteAlias:f()("siteAlias",e),pageUrl:f()("_currentPage.pageUrl",window)})}))}));return function(n){return e.apply(this,arguments)}}()}(),_=I()((n=>Promise.resolve().then((()=>N.Gl.info(n)))),15),J=(null!==(b=null===(S=window)||void 0===S?void 0:S.sessionStorage)&&void 0!==b?b:window)._cohortId=Math.random()<.5?0:1,O=(...n)=>e=>n.reduce(((n,e)=>n.then(((...n)=>Promise.resolve().then(e.bind(null,...n))))),Promise.resolve(e)),Z=({name:n,value:e})=>"INP"===n&&e>=Number(c()(150,'rtCommonProps["feature.flag.runtime.inp.threshold"]',window)),B=function(){var n=(0,r.Z)((function*(){const n=A("_currentDevice"),e=A("navigator.connection.type"),t=A("navigator.connection.effectiveType"),o=A("Parameters.SiteAlias"),l=A("window.location.host"),s=A("location.pathname"),u=V("#criticalCss"),c=V('[data-element-type="custom_extension"]'),p=A("innerWidth"),h=A("innerHeight"),m=["_currentPage.pageContent.uuid","Parameters.InitialPageUuid"].map((n=>k(n,window))).filter(Boolean).at(0),{name:f=null,version:v=null,os:g=null}=(0,i.qY)(),[w,y]=yield(0,r.Z)((function*(){const n=yield(n=>{const e=a()((()=>navigator.serviceWorker.getRegistration("/")));return d()(e)?null:e})();return[!(null!=n&&n.active),!!n]}))();return{device:n,connectionType:e,connectionSpeed:t,viewportWidth:p,viewportHeight:h,hasCriticalCss:u,hasCustomWidgets:c,browserName:f,browserVersion:v,os:g,firstVisit:w,serviceWorkerRunning:y,pageUuid:m,siteAlias:o,host:l,path:s,cohortId:J}}));return function(){return n.apply(this,arguments)}}(),E=function(n){return B().then(l()({vital:n}))};function H(){return R.apply(this,arguments)}function R(){return R=(0,r.Z)((function*({sendLog:n=!0}={}){const e=[O(E,C,U),function(){var e=(0,r.Z)((function*(e){if(n&&Z(e))return O(E,P,_)(e)}));return function(n){return e.apply(this,arguments)}}()].filter(Boolean);[h.mw,h.mr,n=>(0,h.Yn)(n,{durationThreshold:0,reportAllChanges:!0}),h.Fu,h.NO,h.a4].forEach((n=>n((n=>{Promise.all(e.map((e=>e(n).catch(console.warn))))}))))})),R.apply(this,arguments)}}}]);